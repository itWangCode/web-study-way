<!--
    Created by wangyang on 2019-05-21.
    itwangyang@gmail.com
    http://www.itwangyang.xyz
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no">
  <title>Title</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <!--所有的IE都起作用：-->
  <!--[if IE]>  <link rel="stylesheet" type="text/css" href="all-ie-only.css/> <![endif]-->

</head>
<body>



<script>
  /**
   闭包
   变量作用域

   变量作用域的概念：就是一个变量可以使用的范围
   JS中首先有一个最外层的作用域：称之为全局作用域
   JS中还可以通过函数创建出一个独立的作用域，其中函数可以嵌套，所以作用域也可以嵌套

   var age=18; //age是在全局作用域中声明的变量：全局变量
   function f1(){
    console.log(name);//可以访问name变量
    let name = "wang"; //name是f1函数内部生命的变量，所有name变量的作用域就是在f1函数内部
    console.log(name);//可以访问name变量
    console.log(age);//age是全局作用域声明的，所有age也是可以访问的
   }
   console.log(age);//也是可以访问的






   //多级作用域
   //-->1级作用域
   var gender="男";
   function fn(){
        //问题：
        //gender:可以访问
        //age:  可以访问
        //height:不能访问
        console.log(age); //因为age是在fn作用域内声明的，undefined：既然有值就是可以访问的
        console.log(height);//height不是在该作用域内部声明的，所以不能访问

        //-->2级作用域
        return function(){
            //问题：
            //gender:   通过一级一级作用域的查找，发现gender是全局作用域中声明的变量
            //age:
            //height：
            console.log(gender);

            //-->3级作用域
            var height=180;
        }
        var age=5;
    }

   注意：变量的声明和赋值是在两个不用时期的


   */


  /**
   function fn(callback){
        var age=18;
        callback()
    }

   fn(function(){
        console.log(age);
        //分析：age变量：
        //1、查找当前作用域：并没有
        //2、查找上一级作用域：全局作用域
        //-->难点：看上一级作用域，不是看函数在哪里调用，而是看函数在哪里编写
        //-->因为这种特别，我们通常会把作用域说成是：词法作用域
    })
   */

</script>
</body>
</html>